<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>rophim</title>

  <!-- Bootstrap 5 CSS -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <!-- Font Awesome (cho icon) -->
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
  />

  <!-- CSS gốc của bạn (nếu có) -->
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/footer.css" />
  <link rel="stylesheet" href="css/moviedetails.css">
</head>
<body class="bg-dark">

  <!-- NAVBAR -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container-fluid px-4">
      <!-- Logo -->
      <a class="navbar-brand" href="index.html">
        <img src="/api/placeholder/120/40" alt="ROPHIM" class="logo" />
      </a>

      <!-- Search Box -->
      <div class="navbar-search">
        <div class="search-container">
          <i class="fas fa-search search-icon"></i>
          <input
            type="search"
            class="form-control search-input"
            placeholder="Tìm kiếm phim, diễn viên"
          />
        </div>
      </div>

      <!-- Nav Links -->
      <div class="navbar-links">
        <a href="chude.html" class="nav-link">Chủ Đề</a>
        <a href="danhmucphim.html" class="nav-link">Phim Lẻ</a>
        <a href="#" class="nav-link">Phim Bộ</a>
        <div class="nav-dropdown">
          <a href="#" class="nav-link"
            >Quốc gia <i class="fas fa-chevron-down ms-1"></i
          ></a>
        </div>
        <a href="subcription.html" class="nav-link">PREMIUM</a>
      </div>

      <!-- Auth Buttons -->
      <div class="auth-buttons">
        <a href="login.html">
          <button class="btn btn-outline-light me-2">Thành viên</button>
        </a>
      </div>
    </div>
  </nav>

  <!-- MAIN CONTENT -->
  <main class="film-detail-container">
    <div class="row">
      <!-- Cột trái: Poster + Thông tin -->
      <div class="col-lg-4 film-detail-left">
        <img
          src="images/poster1s.webp"
          alt="Poster Phim"
          class="film-poster"
        />
        <h1 class="film-title">Captain America: Thế giới mới</h1>
        <p class="film-description">
          <strong>Mô tả:</strong> Bộ phim kể về câu chuyện của một giáo viên dạy
          học truyền cảm hứng, vượt qua mọi khó khăn để giúp học sinh tìm lại
          niềm tin vào bản thân. Đây là sự pha trộn giữa hành động, tâm lý và cảm
          động.
        </p>
        <p><strong>Thể loại:</strong> Hành động, Tâm lý, Cảm động</p>
        <p><strong>Thời lượng:</strong> 120 phút</p>
        <p><strong>Đánh giá:</strong> ★★★★☆</p>
      </div>

      <!-- Cột phải: Video + Nút + Danh sách tập -->
      <div class="col-lg-8 film-detail-right">
        <!-- VIDEO PREVIEW -->
        <div class="video-preview">
          <video
            id="mainVideo"
            controls
            poster="https://via.placeholder.com/1280x720.png?text=Episode+1"
          >
            <source
              id="videoSource"
              src="images/kkk.mp4"
              type="video/mp4"
            />
            Trình duyệt của bạn không hỗ trợ video.
          </video>
        </div>

        <!-- Nút hành động: 1 nút to .btn-5, các nút khác chỉ icon + tooltip -->
        <div class="action-buttons">
          <!-- Nút to .btn-5 -->
          <button
            id="btnWatchFilm"
            class="btn-5"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="Xem ngay phim này!"
          >
            <i class="fas fa-play me-1"></i> Xem Ngay
          </button>

          <!-- Nút icon: Yêu thích -->
          <button
            class="btn-icon"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="Yêu thích"
          >
            <i class="fa-solid fa-heart"></i>
          </button>

          <!-- Nút icon: Thêm vào -->
          <button
            class="btn-icon"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="Thêm vào danh sách"
          >
            <i class="fa-solid fa-plus"></i>
          </button>

          <!-- Nút icon: Chia sẻ -->
          <button
            class="btn-icon"
            data-bs-toggle="tooltip"
            data-bs-placement="top"
            title="Chia sẻ với bạn bè"
          >
            <i class="fa-solid fa-share-nodes"></i>
          </button>
        </div>

        <!-- Danh sách tập phim -->
        <div class="episode-list">
          <h2>Danh sách các tập phim</h2>
          <ul id="episodeList">
            <li data-episode="1">Tập 1</li>
            <li data-episode="2">Tập 2</li>
            <li data-episode="3">Tập 3</li>
            <li data-episode="4">Tập 4</li>
            <li data-episode="5">Tập 5</li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Nội dung liên quan -->
    <div class="related-content mt-4">
      <h2>Nội dung liên quan</h2>
      <div class="related-cards">
        <div class="related-card" data-film="1">
          <img
            src="images/thumbnail1.jpg"
            alt="Phim 1"
          />
          <h3>Phim 1</h3>
        </div>
        <div class="related-card" data-film="2">
          <img
          src="images/thumbnail1.jpg"
            alt="Phim 2"
          />
          <h3>Phim 2</h3>
        </div>
        <div class="related-card" data-film="3">
          <img
          src="images/thumbnail1.jpg"
            alt="Phim 3"
          />
          <h3>Phim 3</h3>
        </div>
        <div class="related-card" data-film="4">
          <img
          src="images/thumbnail1.jpg"
            alt="Phim 4"
          />
          <h3>Phim 4</h3>
        </div>
      </div>
    </div>
  </main>

  <!-- FOOTER -->
  <footer class="footer-container">
    <div class="footer-content">
      <div class="footer-top">
        <div class="footer-logo">
          <img src="/api/placeholder/50/50" alt="RoPhim" />
          <span>RoPhim</span>
        </div>
        <div class="social-icons">
          <a href="#" class="social-icon"><i class="fab fa-telegram"></i></a>
          <a href="#" class="social-icon"><i class="fab fa-twitter"></i></a>
          <a href="#" class="social-icon"><i class="fab fa-facebook"></i></a>
          <a href="#" class="social-icon"><i class="fab fa-tiktok"></i></a>
          <a href="#" class="social-icon"><i class="fab fa-youtube"></i></a>
          <a href="#" class="social-icon"><i class="fas fa-cookie"></i></a>
          <a href="#" class="social-icon"><i class="fab fa-instagram"></i></a>
        </div>
      </div>

      <div class="footer-links">
        <a href="#">Hỏi-Đáp</a>
        <a href="#">Chính sách bảo mật</a>
        <a href="#">Điều khoản sử dụng</a>
        <a href="#">Giới thiệu</a>
        <a href="#">Liên hệ</a>
      </div>

      <div class="footer-description">
        Rophim.net – Phim hay cả rổ - Trang xem phim online chất lượng cao miễn
        phí Vietsub, thuyết minh, lồng tiếng full HD. Kho phim mới không lỗ, phim
        chiếu rạp, phim bộ, phim lẻ từ nhiều quốc gia như Việt Nam, Hàn Quốc,
        Trung Quốc, Thái Lan, Nhật Bản, Âu Mỹ... đa dạng thể loại. Khám phá nền
        tảng phim trực tuyến hay nhất 2024 chất lượng 4K!
      </div>

      <div class="footer-copyright">
        © 2024 RoPhim
      </div>
    </div>
  </footer>

  <!-- Bootstrap 5 JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

  <!-- SCRIPT logic tập phim, trailer, tooltip, ... -->
  <script>
    // Mảng dữ liệu mẫu cho các tập phim
    const episodes = [
      {
        episode: "1",
        videoSrc: "https://www.w3schools.com/html/mov_bbb.mp4",
        poster: "https://via.placeholder.com/1280x720.png?text=Episode+1",
      },
      {
        episode: "2",
        videoSrc: "https://www.w3schools.com/html/movie.mp4",
        poster: "https://via.placeholder.com/1280x720.png?text=Episode+2",
      },
      {
        episode: "3",
        videoSrc: "https://www.w3schools.com/html/mov_bbb.mp4",
        poster: "https://via.placeholder.com/1280x720.png?text=Episode+3",
      },
      {
        episode: "4",
        videoSrc: "https://www.w3schools.com/html/movie.mp4",
        poster: "https://via.placeholder.com/1280x720.png?text=Episode+4",
      },
      {
        episode: "5",
        videoSrc: "https://www.w3schools.com/html/mov_bbb.mp4",
        poster: "https://via.placeholder.com/1280x720.png?text=Episode+5",
      },
    ];

    // Trailer
    const trailer = {
      videoSrc: "https://www.w3schools.com/html/movie.mp4",
      poster: "https://via.placeholder.com/1280x720.png?text=Trailer",
    };

    const videoElement = document.getElementById("mainVideo");
    const videoSourceElement = document.getElementById("videoSource");
    const episodeList = document.getElementById("episodeList");
    let currentEpisode = episodes[0];

    function updateVideo(videoSrc, poster, autoplay = true) {
      videoElement.pause();
      videoSourceElement.src = videoSrc;
      videoElement.setAttribute("poster", poster);
      videoElement.load();
      if (autoplay) {
        videoElement.play();
      }
    }

    // Chọn tập phim
    episodeList.addEventListener("click", function (e) {
      if (e.target && e.target.nodeName === "LI") {
        const selectedEpisode = e.target.getAttribute("data-episode");
        const episodeData = episodes.find(
          (ep) => ep.episode === selectedEpisode
        );
        if (episodeData) {
          currentEpisode = episodeData;
          updateVideo(episodeData.videoSrc, episodeData.poster);
          // Active class
          const items = episodeList.querySelectorAll("li");
          items.forEach((item) => item.classList.remove("active"));
          e.target.classList.add("active");
        }
      }
    });

    // Nút "Xem Ngay" (btn-5)
    document.getElementById("btnWatchFilm").addEventListener("click", function () {
      if (!currentEpisode) {
        currentEpisode = episodes[0];
        const firstEpisode = episodeList.querySelector('li[data-episode="1"]');
        if (firstEpisode) {
          firstEpisode.classList.add("active");
        }
      }
      updateVideo(currentEpisode.videoSrc, currentEpisode.poster);
    });

    // Tự động chọn Tập 1 khi load
    window.addEventListener("DOMContentLoaded", () => {
      const firstEpisode = episodeList.querySelector('li[data-episode="1"]');
      if (firstEpisode) {
        firstEpisode.classList.add("active");
      }
    });

    // Related-cards click
    document.querySelectorAll(".related-card").forEach((card) => {
      card.addEventListener("click", function () {
        const filmId = this.getAttribute("data-film");
        alert("Chuyển đến trang chi tiết phim: " + filmId);
        // Tùy ý điều hướng
      });
    });

    // Kích hoạt Tooltip của Bootstrap
    const tooltipTriggerList = [].slice.call(
      document.querySelectorAll('[data-bs-toggle="tooltip"]')
    );
    tooltipTriggerList.map(function (tooltipTriggerEl) {
      return new bootstrap.Tooltip(tooltipTriggerEl, {
        // Luôn hiển thị tooltip ở trên top
        placement: "top",
      });
    });
  </script>
</body>
</html>
